<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo-16.png">
  <link rel="mask-icon" href="/images/logo-512.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null,"use":"Gitalk","text":true},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Introduction   Types of Design Patterns   Key Characteristics of Design Patterns   Creational Patterns   Factory Pattern   Abstract Factory Pattern   Builder Pattern   Singleton Pattern   Structural">
<meta property="og:type" content="article">
<meta property="og:title" content="Design Patterns">
<meta property="og:url" content="http://example.com/2025/04/19/Design-Patterns/index.html">
<meta property="og:site_name" content="Alexandar May&#39;s Blog">
<meta property="og:description" content="Introduction   Types of Design Patterns   Key Characteristics of Design Patterns   Creational Patterns   Factory Pattern   Abstract Factory Pattern   Builder Pattern   Singleton Pattern   Structural">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/1-1.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/1-2.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/1-3.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/1-5.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/2-1.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/2-2.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/2-3.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/2-7.jpg">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/2-4.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/2-5.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/2-6.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/3-1.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/3-2.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/3-3.png">
<meta property="og:image" content="http://example.com/2025/04/19/Design-Patterns/3-7.png">
<meta property="article:published_time" content="2025-04-19T08:05:17.000Z">
<meta property="article:modified_time" content="2025-04-19T11:04:19.000Z">
<meta property="article:author" content="Alexandar May">
<meta property="article:tag" content="C#">
<meta property="article:tag" content="Java">
<meta property="article:tag" content=".NET">
<meta property="article:tag" content="Creational Patterns">
<meta property="article:tag" content="Structural Patterns">
<meta property="article:tag" content="Behavioral Patterns">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2025/04/19/Design-Patterns/1-1.png">

<link rel="canonical" href="http://example.com/2025/04/19/Design-Patterns/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Design Patterns | Alexandar May's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">


  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Alexandar May's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
   
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/19/Design-Patterns/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Alexandar May">
      <meta itemprop="description" content="Per aspera ad astra.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Alexandar May's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Design Patterns
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-04-19 16:05:17 / Modified: 19:04:19" itemprop="dateCreated datePublished" datetime="2025-04-19T16:05:17+08:00">2025-04-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Patterns/" itemprop="url" rel="index"><span itemprop="name">Design Patterns</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Patterns/Software-Design/" itemprop="url" rel="index"><span itemprop="name">Software Design</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>49k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>45 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ol>
<li><a href="#introduction">Introduction</a>  <ul>
<li><a href="#types-of-dp">Types of Design Patterns</a>  </li>
<li><a href="#key-c-of-dp">Key Characteristics of Design Patterns</a></li>
</ul>
</li>
<li><a href="#cp">Creational Patterns</a>  <ul>
<li><a href="#factoryp">Factory Pattern</a>  </li>
<li><a href="#afactory">Abstract Factory Pattern</a>  </li>
<li><a href="#builder">Builder Pattern</a>  </li>
<li><a href="#singleton-pattern">Singleton Pattern</a></li>
</ul>
</li>
<li><a href="#sp">Structural Patterns</a>  <ul>
<li><a href="#adapter-pattern">Adapter Pattern</a>  </li>
<li><a href="#bridge-pattern">Bridge Pattern</a>  </li>
<li><a href="#composite-pattern">Composite Pattern</a></li>
<li><a href="#decorator-pattern">Decorator Pattern</a>  </li>
<li><a href="#facade-pattern">Facade Pattern</a>  </li>
<li><a href="#flyweight-pattern">Flyweight Pattern</a></li>
<li><a href="#proxy-pattern">Proxy Pattern</a></li>
</ul>
</li>
<li><a href="#behavior-pattern">Behavioral Patterns</a>  <ul>
<li><a href="#observer-pattern">Observer Pattern</a>  </li>
<li><a href="#iterator-pattern">Iterator Pattern</a>  </li>
<li><a href="#command-pattern">Command Pattern</a></li>
<li><a href="#strategy-pattern">Strategy Pattern</a>  </li>
<li><a href="#state-pattern">State Pattern</a>  <span id="more"></span></li>
</ul>
</li>
</ol>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction<a name="introduction"></a></h2><p>A design pattern is not a rigid structure to be transplanted directly into source code. Rather, it is a description or a template for solving a particular type of problem that can be deployed in many different situations.Design patterns can be viewed as formalized best practices that the programmer may use to solve common problems when designing a software application or system. Expert object-oriented software engineers use these best practices to write more structured, manageable, and scalable code. Design patterns provide a standard terminology and are specific to particular scenarios and problems. </p>
<p>Object-oriented design patterns typically show relationships and interactions between classes or objects, without specifying the final application classes or objects that are involved.[citation needed] Patterns that imply mutable state may be unsuited for functional programming languages. Some patterns can be rendered unnecessary in languages that have built-in support for solving the problem they are trying to solve, and object-oriented patterns are not necessarily suitable for non-object-oriented languages.</p>
<h3 id="Types-of-Design-Patterns"><a href="#Types-of-Design-Patterns" class="headerlink" title="Types of Design Patterns"></a>Types of Design Patterns<a name="types-of-dp"></a></h3><ul>
<li>Creational Patterns</li>
<li>Structural Patterns</li>
<li>Behavioral Patterns</li>
</ul>
<h3 id="Key-Characteristics-of-Design-Patterns"><a href="#Key-Characteristics-of-Design-Patterns" class="headerlink" title="Key Characteristics of Design Patterns"></a>Key Characteristics of Design Patterns<a name="key-c-of-dp"></a></h3><ul>
<li><strong>Reusability</strong>: Patterns can be applied to different projects and problems, saving time and effort in solving similar issues.</li>
<li><strong>Standardization</strong>: They provide a shared language and understanding among developers, helping in communication and collaboration.</li>
<li><strong>Efficiency</strong>: By using these popular patterns, developers can avoid finding the solution to same recurring problems, which leads to faster development.</li>
<li><strong>Flexibility</strong>: Patterns are abstract solutions&#x2F;templates that can be adapted to fit various scenarios and requirements.</li>
</ul>
<h2 id="Creational-Patterns"><a href="#Creational-Patterns" class="headerlink" title="Creational Patterns"></a>Creational Patterns</h2><p>Core Purpose: Encapsulate object creation logic to decouple object creation from usage.</p>
<h3 id="Factory-Pattern"><a href="#Factory-Pattern" class="headerlink" title="Factory Pattern"></a>Factory Pattern<a name="factoryp"></a></h3><p><img src="/2025/04/19/Design-Patterns/1-1.png" alt="pic"><br>Definition: Uses a factory class to encapsulate object creation, hiding implementation details.<br>Case: Creating different payment methods in an e-commerce platform.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Abstract Product: Payment interface  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IPayment</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">decimal</span> amnout</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Product: Alipay Payment  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AlipayPayment</span>: <span class="title">IPayment</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">decimal</span> amount</span>)</span></span><br><span class="line">   &#123;</span><br><span class="line">       Console.WriteLine(<span class="string">$&quot;Alipay Payment: <span class="subst">&#123;amount:C&#125;</span>&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PaypalPayment</span>: <span class="title">IPayment</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">decimal</span> amount</span>)</span></span><br><span class="line">   &#123;</span><br><span class="line">      Console.WriteLine(<span class="string">$&quot;Paypal Payment: <span class="subst">&#123;amount:C&#125;</span>&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Factory Class  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PaymentFactory</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IPayment <span class="title">CreatePayment</span>(<span class="params"><span class="built_in">string</span> type</span>)</span></span><br><span class="line">   &#123;</span><br><span class="line">      <span class="keyword">if</span> (type == <span class="string">&quot;Alipay&quot;</span>)</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">new</span> AlipayPayment();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;Paypal&quot;</span>)</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="comment">// Assuming a PaypalPayment class exists and implements IPayment  </span></span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">new</span> PaypalPayment();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;Unsupported payment type&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//usage</span></span><br><span class="line"><span class="keyword">var</span> pay = PaymentFactory.CreatePayment(<span class="string">&quot;Paypal&quot;</span>);</span><br><span class="line">pay.Pay(<span class="number">199.99</span>m);<span class="comment">// Output: Paypal Payment: $199.99  </span></span><br></pre></td></tr></table></figure>
<h3 id="Abstract-Factory"><a href="#Abstract-Factory" class="headerlink" title="Abstract Factory"></a>Abstract Factory<a name="afactory"></a></h3><p><img src="/2025/04/19/Design-Patterns/1-2.png" alt="pic"><br>The <strong>Abstract Factory Pattern</strong> is a creational design pattern that provides an interface for creating families of related or dependent objects without specifying their concrete classes. It encapsulates a group of individual factories that have a common theme, ensuring product compatibility and decoupling client code from implementation details.<br>Core Concepts:</p>
<ol>
<li><strong>Abstract Factory</strong>: Defines interfaces for creating abstract products.</li>
<li><strong>Concrete Factories</strong>: Implement the abstract factory to produce specific product families.</li>
<li><strong>Abstract Products</strong>: Declare interfaces for a type of product.</li>
<li><strong>Concrete Products</strong>: Implement the abstract product interfaces, created by concrete factories.</li>
<li><strong>Client</strong>: Uses the abstract factory and products without depending on concrete classes.</li>
</ol>
<p>UML Diagram:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">┌──────────────────┐       ┌─────────────────┐</span><br><span class="line">│  AbstractFactory │       │     Client      │</span><br><span class="line">├──────────────────┤       ├─────────────────┤</span><br><span class="line">│+ CreateProductA()│◄───►  │+ UseFactory()   │</span><br><span class="line">│+ CreateProductB()│       └─────────────────┘</span><br><span class="line">└──────────────────┘</span><br><span class="line">        ▲</span><br><span class="line">        │</span><br><span class="line">  ┌─────┴─────┐     ┌───────────────────┐</span><br><span class="line">  │           │     │  ConcreteFactory2   │</span><br><span class="line">  │ConcreteFactory1├────►┌─────────────┐  │</span><br><span class="line">  ├─────────────┐ │  │+ CreateProductA()│</span><br><span class="line">  │+ CreateProductA()│  │+ CreateProductB()│</span><br><span class="line">  │+ CreateProductB()│  └─────────────┘  │</span><br><span class="line">  └─────────────┘     └───────────────────┘</span><br><span class="line"></span><br><span class="line">┌─────────────┐     ┌─────────────┐</span><br><span class="line">│AbstractProductA│  │AbstractProductB │</span><br><span class="line">├─────────────┤     ├─────────────┤</span><br><span class="line">│+ OperationA()│    │+ OperationB() │</span><br><span class="line">└─────────────┘     └─────────────┘</span><br><span class="line">        ▲                    ▲</span><br><span class="line">        │                    │</span><br><span class="line">  ┌─────┴─────┐        ┌─────┴─────┐</span><br><span class="line">  │           │        │           │</span><br><span class="line">  │ProductA1  │        │ProductB1  │</span><br><span class="line">  └───────────┘        └───────────┘</span><br></pre></td></tr></table></figure>
<p>Case: Cross-platform UI components (Windows vs. macOS)</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Button Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IButton</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Render</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Checkbox Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICheckbox</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Render</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Button Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IButton</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Render</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Checkbox Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICheckbox</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Render</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Windows Products</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WindowsButton</span> : <span class="title">IButton</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Render</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Windows Button Rendered&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WindowsCheckbox</span> : <span class="title">ICheckbox</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Render</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Windows Checkbox Rendered&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// macOS Products</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MacButton</span> : <span class="title">IButton</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Render</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Mac Button Rendered&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MacCheckbox</span> : <span class="title">ICheckbox</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Render</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Mac Checkbox Rendered&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Windows Factory</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WindowsFactory</span> : <span class="title">IGUIFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IButton <span class="title">CreateButton</span>()</span> =&gt; <span class="keyword">new</span> WindowsButton();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ICheckbox <span class="title">CreateCheckbox</span>()</span> =&gt; <span class="keyword">new</span> WindowsCheckbox();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// macOS Factory</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MacFactory</span> : <span class="title">IGUIFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IButton <span class="title">CreateButton</span>()</span> =&gt; <span class="keyword">new</span> MacButton();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ICheckbox <span class="title">CreateCheckbox</span>()</span> =&gt; <span class="keyword">new</span> MacCheckbox();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Application</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IButton _button;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ICheckbox _checkbox;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Application</span>(<span class="params">IGUIFactory factory</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _button = factory.CreateButton();</span><br><span class="line">        _checkbox = factory.CreateCheckbox();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RenderUI</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _button.Render();</span><br><span class="line">        _checkbox.Render();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        IGUIFactory factory = <span class="keyword">new</span> WindowsFactory(); <span class="comment">// Or new MacFactory()</span></span><br><span class="line">        <span class="keyword">var</span> app = <span class="keyword">new</span> Application(factory);</span><br><span class="line">        app.RenderUI();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Use Cases：</p>
<ul>
<li><strong>Cross-platform Applications</strong>: As shown in the example above.</li>
<li><strong>Game Development</strong>: Creating different enemy types, weapons, or environments.</li>
<li><strong>Database Access</strong>: Switching between SQL Server, MySQL, etc.</li>
<li><strong>UI Frameworks</strong>: Generating themed components (light&#x2F;dark mode).</li>
</ul>
<h3 id="Builder-Pattern"><a href="#Builder-Pattern" class="headerlink" title="Builder Pattern"></a>Builder Pattern<a name="factoryp"></a></h3><p><img src="/2025/04/19/Design-Patterns/1-3.png" alt="pic"><br>The <strong>Builder Pattern</strong> is a creational design pattern that separates the construction of a complex object from its representation. This allows the same construction process to create different representations, making it ideal for objects with multiple optional parameters or complex assembly steps.<br>Core Concepts:</p>
<ol>
<li><strong>Product</strong>: The complex object being constructed (e.g., a car, user profile).</li>
<li><strong>Abstract Builder</strong>: Defines an interface for building parts of the product.</li>
<li><strong>Concrete Builder</strong>: Implements the builder interface to construct specific product variations.</li>
<li><strong>Director</strong>: Controls the construction process, using the builder to assemble the product step-by-step.</li>
</ol>
<p>UML Diagram:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">┌───────────┐          ┌─────────────┐  </span><br><span class="line">│  Product  │          │  Director   │  </span><br><span class="line">│+ parts:    │          │+ Construct()│  </span><br><span class="line">│  List&lt;str&gt;│          └─────────────┘  </span><br><span class="line">│+ AddPart()│          ▲             </span><br><span class="line">│+ Show()   │          │             </span><br><span class="line">└───────────┘          │  uses       </span><br><span class="line">                       │             </span><br><span class="line">┌──────────────┐       │  uses        </span><br><span class="line">│ AbstractBuilder│     │             </span><br><span class="line">│+ BuildPartA() │◄─────┘             </span><br><span class="line">│+ BuildPartB() │             </span><br><span class="line">│+ GetResult()  │             </span><br><span class="line">└──────────────┘             </span><br><span class="line">   ▲          ▲             </span><br><span class="line">   │          │             </span><br><span class="line">┌──────────────┐  ┌──────────────┐  </span><br><span class="line">│ ConcreteBuilder1│  │ ConcreteBuilder2│  </span><br><span class="line">│+ BuildPartA() │  │+ BuildPartA() │  </span><br><span class="line">│+ BuildPartB() │  │+ BuildPartB() │  </span><br><span class="line">│+ GetResult()  │  │+ GetResult()  │  </span><br><span class="line">└──────────────┘  └──────────────┘  </span><br></pre></td></tr></table></figure>
<p>Case:Building a computer with optional components (CPU, GPU, RAM).</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//define the product</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Computer</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> List&lt;<span class="built_in">string</span>&gt; _parts = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddPart</span>(<span class="params"><span class="built_in">string</span> part</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _parts.Add(part);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowSpecs</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Computer Specs:&quot;</span>);  </span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> part <span class="keyword">in</span> _parts)  </span><br><span class="line">        &#123;  </span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;- <span class="subst">&#123;part&#125;</span>&quot;</span>);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//2. Create the Abstract Builder</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">ComputerBuilder</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">protected</span> Computer _computer = <span class="keyword">new</span> Computer();  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">BuildCPU</span>()</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">BuildGPU</span>()</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">BuildRAM</span>()</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">GetComputer</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> _computer;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3.Implement Concrete Builders</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GamingComputerBuilder</span> : <span class="title">ComputerBuilder</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">BuildCPU</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _computer.AddPart(<span class="string">&quot;High-end CPU (e.g., Intel i9)&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">BuildGPU</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _computer.AddPart(<span class="string">&quot;Dedicated Gaming GPU (e.g., NVIDIA RTX 4090)&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">BuildRAM</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _computer.AddPart(<span class="string">&quot;32GB DDR5 RAM&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OfficeComputerBuilder</span> : <span class="title">ComputerBuilder</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">BuildCPU</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _computer.AddPart(<span class="string">&quot;Mid-range CPU (e.g., Intel i5)&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">BuildGPU</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _computer.AddPart(<span class="string">&quot;Integrated GPU&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">BuildRAM</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _computer.AddPart(<span class="string">&quot;16GB DDR4 RAM&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4. Define the Director</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ComputerDirector</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">Construct</span>(<span class="params">ComputerBuilder builder</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        builder.BuildCPU();  </span><br><span class="line">        builder.BuildGPU();  </span><br><span class="line">        builder.BuildRAM();  </span><br><span class="line">        <span class="keyword">return</span> builder.GetComputer();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//5.Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="comment">// Build a gaming computer  </span></span><br><span class="line">        <span class="keyword">var</span> gamingBuilder = <span class="keyword">new</span> GamingComputerBuilder();  </span><br><span class="line">        <span class="keyword">var</span> director = <span class="keyword">new</span> ComputerDirector();  </span><br><span class="line">        <span class="keyword">var</span> gamingPC = director.Construct(gamingBuilder);  </span><br><span class="line">        gamingPC.ShowSpecs();  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Build an office computer  </span></span><br><span class="line">        <span class="keyword">var</span> officeBuilder = <span class="keyword">new</span> OfficeComputerBuilder();  </span><br><span class="line">        <span class="keyword">var</span> officePC = director.Construct(officeBuilder);  </span><br><span class="line">        officePC.ShowSpecs();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Computer Specs:  </span><br><span class="line">- High-end CPU (e.g., Intel i9)  </span><br><span class="line">- Dedicated Gaming GPU (e.g., NVIDIA RTX 4090)  </span><br><span class="line">- 32GB DDR5 RAM  </span><br><span class="line"></span><br><span class="line">Computer Specs:  </span><br><span class="line">- Mid-range CPU (e.g., Intel i5)  </span><br><span class="line">- Integrated GPU  </span><br><span class="line">- 16GB DDR4 RAM  </span><br></pre></td></tr></table></figure>
<p>Use Cases:</p>
<ol>
<li><strong>Complex Objects with Many Parameters</strong>: E.g., cars, user profiles, or API requests with optional fields.</li>
<li><strong>Object Assembly with Order Dependency</strong>: When parts must be added in a specific sequence (e.g., initializing components before final assembly).</li>
<li><strong>Fluent Interfaces</strong>: Commonly used to create fluent APIs for readability (e.g., StringBuilder in .NET).</li>
</ol>
<h3 id="Singleton-Pattern"><a href="#Singleton-Pattern" class="headerlink" title="Singleton Pattern"></a>Singleton Pattern<a name="singleton-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/1-5.png" alt="pic"><br><strong>The Singleton Pattern</strong> is a creational design pattern that ensures a class has only one instance and provides a global point of access to it. This pattern is useful for systems where exactly one instance is needed to coordinate actions across the system, such as a database connection pool, logging service, or configuration manager.<br>Core Concepts:</p>
<ol>
<li><strong>Private Constructor</strong>: Prevents direct instantiation of the class from outside.</li>
<li><strong>Static Instance</strong>: Holds the single instance of the class.</li>
<li><strong>Public Static Accessor</strong>: Provides global access to the instance.<br>UML Diagram:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">┌───────────────┐  </span><br><span class="line">│   Singleton   │  </span><br><span class="line">├───────────────┤  </span><br><span class="line">│- instance: static Singleton  </span><br><span class="line">│+ GetInstance(): static Singleton  </span><br><span class="line">│+ DoSomething(): void  </span><br><span class="line">└───────────────┘  </span><br></pre></td></tr></table></figure>
Implementation Variations:</li>
<li>Basic Singleton (Not Thread-Safe)<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Singleton</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton _instance;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span>()</span> &#123; &#125;  <span class="comment">// Private constructor  </span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">GetInstance</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span> (_instance == <span class="literal">null</span>)  </span><br><span class="line">        &#123;  </span><br><span class="line">            _instance = <span class="keyword">new</span> Singleton();  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> _instance;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoSomething</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Singleton is working.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
<strong>Issue</strong>: Not thread-safe. Multiple threads can create instances simultaneously in a multi-threaded environment.</li>
<li>Thread-Safe Singleton (Double-Checked Locking)<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Singleton</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton _instance;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="built_in">object</span> _lock = <span class="keyword">new</span> <span class="built_in">object</span>();  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span>()</span> &#123; &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">GetInstance</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span> (_instance == <span class="literal">null</span>)  <span class="comment">// First check  </span></span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">lock</span> (_lock)        <span class="comment">// Lock for thread safety  </span></span><br><span class="line">            &#123;  </span><br><span class="line">                <span class="keyword">if</span> (_instance == <span class="literal">null</span>)  <span class="comment">// Second check  </span></span><br><span class="line">                &#123;  </span><br><span class="line">                    _instance = <span class="keyword">new</span> Singleton();  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> _instance;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoSomething</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Singleton is working.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure></li>
<li>Lazy Initialization with Lazy<T><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Singleton</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Lazy&lt;Singleton&gt; _lazy =  </span><br><span class="line">        <span class="keyword">new</span> Lazy&lt;Singleton&gt;(() =&gt; <span class="keyword">new</span> Singleton());  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span>()</span> &#123; &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">GetInstance</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> _lazy.Value;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoSomething</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Singleton is working.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
Use Cases:</li>
</ol>
<ul>
<li><strong>Logging Services</strong>: Centralized logging to avoid file conflicts.</li>
<li><strong>Database Connection Pools</strong>: Reuse connections to optimize performance.</li>
<li><strong>Configuration Managers</strong>: Load and manage application settings.</li>
<li><strong>Graphics Managers</strong>: Control rendering or display resources.</li>
</ul>
<h2 id="Structural-Patterns"><a href="#Structural-Patterns" class="headerlink" title="Structural Patterns"></a>Structural Patterns<a name="sp"></a></h2><p>Structural design patterns explain how to assemble objects and classes into larger structures, while keeping these structures flexible and efficient.</p>
<h3 id="Adapter-Pattern"><a href="#Adapter-Pattern" class="headerlink" title="Adapter Pattern"></a>Adapter Pattern<a name="factoryp"></a></h3><p><img src="/2025/04/19/Design-Patterns/2-1.png" alt="pic"><br><strong>The Adapter Pattern</strong> is a structural design pattern that allows objects with incompatible interfaces to collaborate. It acts as a bridge between two incompatible interfaces, converting the interface of one class into another interface clients expect. This pattern is useful for integrating legacy code, third-party libraries, or mismatched components without modifying their original structure.<br>Core Concepts:</p>
<ol>
<li><strong>Target</strong>: The interface that the client expects to interact with.</li>
<li><strong>Adaptee</strong>: The existing class with an incompatible interface.</li>
<li><strong>Adapter</strong>: Converts the adaptee’s interface into the target interface via composition or inheritance.<br>UML Diagram：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">┌─────────────┐       ┌──────────────┐       ┌─────────────┐  </span><br><span class="line">│   Target    │       │   Adapter    │       │   Adaptee   │  </span><br><span class="line">├─────────────┤       ├──────────────┤       ├─────────────┤  </span><br><span class="line">│+ Request()  │◄───┐  │+ Request()   │       │+ SpecificRequest()  </span><br><span class="line">└─────────────┘    │  ├──────────────┤       └─────────────┘  </span><br><span class="line">                   │  │- adaptee: Adaptee│       ▲  </span><br><span class="line">                   │  └──────────────┘           │  </span><br><span class="line">                   │      ▲                      │  </span><br><span class="line">                   │      │ Implements           │  </span><br><span class="line">                   └────────────────────────-----┘  </span><br></pre></td></tr></table></figure></li>
<li>Object Adapter (Composition)<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Target interface  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ITarget</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">Request</span>()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Adaptee (existing class with incompatible interface)  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Adaptee</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">SpecificRequest</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Specific request from adaptee.&quot;</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Adapter (wraps the adaptee via composition)  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Adapter</span> : <span class="title">ITarget</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> Adaptee _adaptee;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Adapter</span>(<span class="params">Adaptee adaptee</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _adaptee = adaptee;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Request</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="comment">// Convert the adaptee&#x27;s interface to the target interface  </span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;Adapter: <span class="subst">&#123;_adaptee.SpecificRequest()&#125;</span>&quot;</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Client code  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UseTarget</span>(<span class="params">ITarget target</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(target.Request());  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
Usage:<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> adaptee = <span class="keyword">new</span> Adaptee();  </span><br><span class="line"><span class="keyword">var</span> adapter = <span class="keyword">new</span> Adapter(adaptee);  </span><br><span class="line"><span class="keyword">var</span> client = <span class="keyword">new</span> Client();  </span><br><span class="line">client.UseTarget(adapter); <span class="comment">// Output: Adapter: Specific request from adaptee.  </span></span><br></pre></td></tr></table></figure></li>
<li>Class Adapter (Inheritance)<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Target interface  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ITarget</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">Request</span>()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Adaptee (existing class with incompatible interface)  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Adaptee</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">SpecificRequest</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Specific request from adaptee.&quot;</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Adapter (inherits from both target and adaptee)  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Adapter</span> : <span class="title">Adaptee</span>, <span class="title">ITarget</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Request</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;Adapter: <span class="subst">&#123;<span class="keyword">base</span>.SpecificRequest()&#125;</span>&quot;</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
Note: Class Adapter requires multiple inheritance (not supported in C#), so this example uses composition instead.<br>Use Cases:</li>
<li><strong>Legacy System Integration</strong>: Connect new code with outdated APIs.</li>
<li><strong>Third-Party Libraries</strong>: Adapt external libraries to match your application’s interface.</li>
<li><strong>Data Format Conversion</strong>: Transform data between incompatible formats (e.g., XML to JSON).</li>
<li><strong>Cross-Platform Compatibility</strong>: Adapt platform-specific APIs to a common interface.<br>Real-World Examples:</li>
</ol>
<ul>
<li><strong>.NET Framework</strong>: StreamReader adapts a Stream to a text reader.</li>
<li><strong>Java</strong>: java.util.Arrays.asList() adapts an array to a List.</li>
<li><strong>Web APIs</strong>: Converting REST API responses to internal data models.</li>
</ul>
<h3 id="Bridge-Pattern"><a href="#Bridge-Pattern" class="headerlink" title="Bridge Pattern"></a>Bridge Pattern<a name="bridge-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/2-2.png" alt="pic"><br><strong>The Bridge Pattern</strong> is a structural design pattern that decouples an abstraction from its implementation, allowing both to vary independently. It achieves this by separating the hierarchical abstraction (what the system does) from the implementation (how it does it), connected via a bridge interface. This pattern is particularly useful for avoiding a “class explosion” when dealing with multiple dimensions of variability.<br>Core Concepts:</p>
<ol>
<li><strong>Abstraction</strong>: Defines the high-level interface and depends on the implementation interface.</li>
<li><strong>Refined Abstraction</strong>: Extends the abstraction without affecting the implementation.</li>
<li><strong>Implementor</strong>: Defines the interface for the implementation classes.</li>
<li><strong>Concrete Implementor</strong>: Provides the concrete implementation.<br>UML Diagram:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">┌────────────────┐                  ┌────────────────┐  </span><br><span class="line">│   Abstraction  │                  │   Implementor  │  </span><br><span class="line">├────────────────┤                  ├────────────────┤  </span><br><span class="line">│- implementor   │                  │+ OperationImpl()│  </span><br><span class="line">│+ Operation()   │                  └────────────────┘  </span><br><span class="line">└────────────────┘                         ▲  </span><br><span class="line">       ▲                                   │  </span><br><span class="line">       │                                   │  </span><br><span class="line">┌────────────────┐            ┌─────────────────────┐  </span><br><span class="line">│RefinedAbstraction│          │  ConcreteImplementorA │  </span><br><span class="line">├────────────────┤            ├─────────────────────┤  </span><br><span class="line">│+ ExtendedOperation()│       │+ OperationImpl()    │  </span><br><span class="line">└────────────────┘            └─────────────────────┘  </span><br><span class="line">                              │  </span><br><span class="line">                              │  </span><br><span class="line">┌─────────────────────┐  </span><br><span class="line">│  ConcreteImplementorB │  </span><br><span class="line">├─────────────────────┤  </span><br><span class="line">│+ OperationImpl()    │  </span><br><span class="line">└─────────────────────┘  </span><br></pre></td></tr></table></figure>
Implementation Example<br>Scenario: Rendering shapes (circle, square) in different formats (vector, raster).</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Define the Implementor Interface</span></span><br><span class="line"><span class="comment">// Implementor: Renderer  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IRenderer</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">RenderCircle</span>(<span class="params"><span class="built_in">float</span> radius</span>)</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">RenderSquare</span>(<span class="params"><span class="built_in">float</span> side</span>)</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//2. Implement Concrete Implementors</span></span><br><span class="line"><span class="comment">// Vector Renderer  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VectorRenderer</span> : <span class="title">IRenderer</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RenderCircle</span>(<span class="params"><span class="built_in">float</span> radius</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Drawing a circle of radius <span class="subst">&#123;radius&#125;</span> in vector format.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RenderSquare</span>(<span class="params"><span class="built_in">float</span> side</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Drawing a square with side <span class="subst">&#123;side&#125;</span> in vector format.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Raster Renderer  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RasterRenderer</span> : <span class="title">IRenderer</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RenderCircle</span>(<span class="params"><span class="built_in">float</span> radius</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Drawing pixels for a circle of radius <span class="subst">&#123;radius&#125;</span> in raster format.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RenderSquare</span>(<span class="params"><span class="built_in">float</span> side</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Drawing pixels for a square with side <span class="subst">&#123;side&#125;</span> in raster format.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3. Define the Abstraction</span></span><br><span class="line"><span class="comment">// Abstraction: Shape  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Shape</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">protected</span> IRenderer renderer;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Shape</span>(<span class="params">IRenderer renderer</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">this</span>.renderer = renderer;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Draw</span>()</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Resize</span>(<span class="params"><span class="built_in">float</span> factor</span>)</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4.Implement Refined Abstractions</span></span><br><span class="line"><span class="comment">// Refined Abstraction: Circle  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Circle</span> : <span class="title">Shape</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> radius;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Circle</span>(<span class="params">IRenderer renderer, <span class="built_in">float</span> radius</span>) : <span class="title">base</span>(<span class="params">renderer</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">this</span>.radius = radius;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Draw</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        renderer.RenderCircle(radius);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Resize</span>(<span class="params"><span class="built_in">float</span> factor</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        radius *= factor;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Refined Abstraction: Square  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Square</span> : <span class="title">Shape</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> side;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Square</span>(<span class="params">IRenderer renderer, <span class="built_in">float</span> side</span>) : <span class="title">base</span>(<span class="params">renderer</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">this</span>.side = side;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Draw</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        renderer.RenderSquare(side);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Resize</span>(<span class="params"><span class="built_in">float</span> factor</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        side *= factor;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">//5. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Main</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="comment">// Create renderers  </span></span><br><span class="line">        IRenderer vectorRenderer = <span class="keyword">new</span> VectorRenderer();  </span><br><span class="line">        IRenderer rasterRenderer = <span class="keyword">new</span> RasterRenderer();  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create shapes with different renderers  </span></span><br><span class="line">        Shape circle = <span class="keyword">new</span> Circle(vectorRenderer, <span class="number">5</span>);  </span><br><span class="line">        Shape square = <span class="keyword">new</span> Square(rasterRenderer, <span class="number">10</span>);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Draw shapes  </span></span><br><span class="line">        circle.Draw();    <span class="comment">// Output: Drawing a circle of radius 5 in vector format.  </span></span><br><span class="line">        square.Draw();    <span class="comment">// Output: Drawing pixels for a square with side 10 in raster format.  </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Resize and redraw  </span></span><br><span class="line">        circle.Resize(<span class="number">2</span>);  </span><br><span class="line">        circle.Draw();    <span class="comment">// Output: Drawing a circle of radius 10 in vector format.  </span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
<p>Use Cases:</p>
<ul>
<li><strong>Cross-Platform Applications</strong>: Separate platform-specific implementations from business logic.</li>
<li><strong>GUI Frameworks</strong>: Render UI components in different styles (e.g., Windows vs. macOS).</li>
<li><strong>Database Drivers</strong>: Connect to different databases (SQL Server, MySQL) using a common interface.</li>
<li><strong>Game Development</strong>: Render graphics using different APIs (DirectX, OpenGL).</li>
</ul>
<h3 id="Composite-Pattern"><a href="#Composite-Pattern" class="headerlink" title="Composite Pattern"></a>Composite Pattern<a name="composite-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/2-3.png" alt="pic"><br><strong>The Composite Pattern</strong> is a structural design pattern that lets you compose objects into tree structures to represent part-whole hierarchies. It allows clients to treat individual objects (leaf nodes) and compositions of objects (composite nodes) uniformly, simplifying code by treating all nodes through a common interface.<br>Core Concepts:</p>
<ol>
<li><strong>Component</strong>: Defines the common interface for both leaf and composite nodes.</li>
<li><strong>Leaf</strong>: Represents individual objects (no children).</li>
<li><strong>Composite</strong>: Manages child components, implementing the component interface for child-related operations(add, remove and get).</li>
<li><strong>Client</strong>: Interacts with components through the common interface, unaware of whether they are leaves or composites.<br>UML Diagram:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">┌──────────────┐  </span><br><span class="line">│   Component  │  </span><br><span class="line">├──────────────┤  </span><br><span class="line">│+ Operation() │  </span><br><span class="line">└──────────────┘  </span><br><span class="line">       ▲  </span><br><span class="line">       │-----------------------|  </span><br><span class="line">┌──────────────┐          ┌──────────────┐  </span><br><span class="line">│    Leaf      │          │   Composite  │  </span><br><span class="line">├──────────────┤          ├──────────────┤  </span><br><span class="line">│+ Operation() │          │+ Add()       │  </span><br><span class="line">│              │          │+ Remove()    │  </span><br><span class="line">│              │          │+ GetChild()  │  </span><br><span class="line">└──────────────┘          └──────────────┘  </span><br></pre></td></tr></table></figure>
Use case: A file system with directories (composites) and files (leaves).<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. Define the Component Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">FileSystemComponent</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Display</span>(<span class="params"><span class="built_in">int</span> depth</span>)</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">FileSystemComponent component</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotSupportedException(<span class="string">&quot;Leaf nodes cannot have children.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">FileSystemComponent component</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NotSupportedException(<span class="string">&quot;Leaf nodes cannot have children.&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//2. Implement Leaf Nodes (Files)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">File</span> : <span class="title">FileSystemComponent</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> _name;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">File</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _name = name;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Display</span>(<span class="params"><span class="built_in">int</span> depth</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&#x27;-&#x27;</span>, depth) + _name);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3. Implement Composite Nodes (Directories)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Directory</span> : <span class="title">FileSystemComponent</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> _name;  </span><br><span class="line">    <span class="keyword">private</span> List&lt;FileSystemComponent&gt; _children = <span class="keyword">new</span> List&lt;FileSystemComponent&gt;();  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Directory</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _name = name;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Display</span>(<span class="params"><span class="built_in">int</span> depth</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&#x27;-&#x27;</span>, depth) + _name);  </span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> child <span class="keyword">in</span> _children)  </span><br><span class="line">        &#123;  </span><br><span class="line">            child.Display(depth + <span class="number">2</span>); <span class="comment">// Indent children  </span></span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">FileSystemComponent component</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _children.Add(component);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">FileSystemComponent component</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _children.Remove(component);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BuildFileSystem</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="comment">// Root directory (composite)  </span></span><br><span class="line">        Directory root = <span class="keyword">new</span> Directory(<span class="string">&quot;Root&quot;</span>);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Subdirectories and files (composites and leaves)  </span></span><br><span class="line">        Directory docs = <span class="keyword">new</span> Directory(<span class="string">&quot;Documents&quot;</span>);  </span><br><span class="line">        docs.Add(<span class="keyword">new</span> File(<span class="string">&quot;Report.txt&quot;</span>));  </span><br><span class="line">        docs.Add(<span class="keyword">new</span> File(<span class="string">&quot;Budget.xlsx&quot;</span>));  </span><br><span class="line"></span><br><span class="line">        Directory pics = <span class="keyword">new</span> Directory(<span class="string">&quot;Pictures&quot;</span>);  </span><br><span class="line">        pics.Add(<span class="keyword">new</span> File(<span class="string">&quot;Vacation.jpg&quot;</span>));  </span><br><span class="line"></span><br><span class="line">        root.Add(docs);  </span><br><span class="line">        root.Add(pics);  </span><br><span class="line">        root.Add(<span class="keyword">new</span> File(<span class="string">&quot;ReadMe.md&quot;</span>));  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Display the file system tree  </span></span><br><span class="line">        root.Display(<span class="number">0</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
Output:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Root  </span><br><span class="line">--Documents  </span><br><span class="line">----Report.txt  </span><br><span class="line">----Budget.xlsx  </span><br><span class="line">--Pictures  </span><br><span class="line">----Vacation.jpg  </span><br><span class="line">--ReadMe.md  </span><br></pre></td></tr></table></figure>
Use Cases:</li>
</ol>
<ul>
<li><strong>File Systems</strong>: Directories (composites) and files (leaves).</li>
<li><strong>GUI Toolkits</strong>: Containers (e.g., panels) and widgets (e.g., buttons).</li>
<li><strong>Organization Charts</strong>: Departments (composites) and employees (leaves).</li>
<li><strong>Tree-Based Data Structures</strong>: XML&#x2F;JSON parsing, syntax trees.</li>
</ul>
<h3 id="Decorator-Pattern"><a href="#Decorator-Pattern" class="headerlink" title="Decorator Pattern"></a>Decorator Pattern<a name="decorator-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/2-7.jpg" alt="pic"><br>The <strong>Decorator Pattern</strong> is a structural design pattern that lets you attach new behaviors to objects dynamically by placing these objects inside special wrapper classes. It provides a flexible alternative to subclassing for extending functionality, allowing behavior to be added or removed at runtime.<br>Core Concepts:</p>
<ol>
<li><strong>Component</strong>: Defines the common interface for objects that can have decorations.</li>
<li><strong>Concrete Component</strong>: Implements the base functionality of the component.</li>
<li><strong>Decorator</strong>: Maintains a reference to a component and implements the component interface.</li>
<li><strong>Concrete Decorators</strong>: Add specific behaviors to the component by overriding methods.</li>
</ol>
<p>Use case: Coffee shop where drinks (components) can be decorated with additives (decorators).</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. Define the Component Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICoffee</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">GetDescription</span>()</span>;  </span><br><span class="line">    <span class="function"><span class="built_in">double</span> <span class="title">GetCost</span>()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">//2. Implement Concrete Components</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Espresso</span> : <span class="title">ICoffee</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span> =&gt; <span class="string">&quot;Espresso&quot;</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">GetCost</span>()</span> =&gt; <span class="number">1.99</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DarkRoast</span> : <span class="title">ICoffee</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span> =&gt; <span class="string">&quot;Dark Roast Coffee&quot;</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">GetCost</span>()</span> =&gt; <span class="number">1.89</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">//3. Define the Decorator Base Class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">CondimentDecorator</span> : <span class="title">ICoffee</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">protected</span> ICoffee _coffee;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CondimentDecorator</span>(<span class="params">ICoffee coffee</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _coffee = coffee;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="built_in">double</span> <span class="title">GetCost</span>()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4. Implement Concrete Decorators</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Mocha</span> : <span class="title">CondimentDecorator</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Mocha</span>(<span class="params">ICoffee coffee</span>) : <span class="title">base</span>(<span class="params">coffee</span>)</span> &#123; &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> _coffee.GetDescription() + <span class="string">&quot;, Mocha&quot;</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">double</span> <span class="title">GetCost</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> _coffee.GetCost() + <span class="number">0.20</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Whip</span> : <span class="title">CondimentDecorator</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Whip</span>(<span class="params">ICoffee coffee</span>) : <span class="title">base</span>(<span class="params">coffee</span>)</span> &#123; &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> _coffee.GetDescription() + <span class="string">&quot;, Whip&quot;</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">double</span> <span class="title">GetCost</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> _coffee.GetCost() + <span class="number">0.10</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//5. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OrderCoffee</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="comment">// Base coffee  </span></span><br><span class="line">        ICoffee coffee = <span class="keyword">new</span> Espresso();  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;coffee.GetDescription()&#125;</span> = $<span class="subst">&#123;coffee.GetCost()&#125;</span>&quot;</span>);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Decorated coffee  </span></span><br><span class="line">        ICoffee decoratedCoffee = <span class="keyword">new</span> Whip(<span class="keyword">new</span> Mocha(<span class="keyword">new</span> Mocha(coffee)));  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;decoratedCoffee.GetDescription()&#125;</span> = $<span class="subst">&#123;decoratedCoffee.GetCost()&#125;</span>&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Espresso = $1.99  </span><br><span class="line">Espresso, Mocha, Mocha, Whip = $2.39  </span><br></pre></td></tr></table></figure>
<p>Use Cases:<br><strong>GUI Components</strong>: Adding borders, scroll bars, or tooltips to widgets.<br><strong>I&#x2F;O Streams</strong>: Wrapping streams with buffering, encryption, or compression.<br><strong>Logging</strong>: Adding timestamps, metadata, or formatting to log messages.<br><strong>Security</strong>: Applying authentication or authorization layers to requests.</p>
<h3 id="Facade-Pattern"><a href="#Facade-Pattern" class="headerlink" title="Facade Pattern"></a>Facade Pattern<a name="facade-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/2-4.png" alt="pic"><br>The <strong>Facade Pattern</strong> is a structural design pattern that provides a simplified interface to a complex system of classes, libraries, or APIs. It hides the underlying complexity and exposes only high-level functionality, making the system easier to use and maintain. This pattern is commonly used to decouple clients from intricate subsystems.<br>Core Concepts:</p>
<ol>
<li><strong>Facade</strong>: Provides a simplified interface to the subsystem.</li>
<li><strong>Subsystem Classes</strong>: Implement complex functionality but are unaware of the facade.</li>
<li><strong>Client</strong>: Interacts with the facade instead of directly accessing subsystem classes.<br>UML Diagram<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">┌──────────────┐       ┌──────────────────┐  </span><br><span class="line">│    Client    │──────►│     Facade       │  </span><br><span class="line">└──────────────┘       ├──────────────────┤  </span><br><span class="line">                       │+ SimpleOperation()│  </span><br><span class="line">                       └──────────────────┘  </span><br><span class="line">                               ▲  </span><br><span class="line">                               │ uses  </span><br><span class="line">                               │  </span><br><span class="line">┌──────────────┐  ┌──────────────┐  ┌──────────────┐  </span><br><span class="line">│ SubsystemA   │  │ SubsystemB   │  │ SubsystemC   │  </span><br><span class="line">├──────────────┤  ├──────────────┤  ├──────────────┤  </span><br><span class="line">│+ OperationA()│  │+ OperationB()│  │+ OperationC()│  </span><br><span class="line">└──────────────┘  └──────────────┘  └──────────────┘  </span><br></pre></td></tr></table></figure>
Uase case: A home theater system with multiple components (amplifier, DVD player, projector).<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> Define Subsystem Classes</span><br><span class="line"><span class="comment">// Subsystem: Amplifier  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Amplifier</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">On</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Amplifier on&quot;</span>);  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Off</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Amplifier off&quot;</span>);  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetVolume</span>(<span class="params"><span class="built_in">int</span> level</span>)</span> =&gt; Console.WriteLine(<span class="string">$&quot;Amplifier volume set to <span class="subst">&#123;level&#125;</span>&quot;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Subsystem: DVD Player  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DvdPlayer</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">On</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;DVD Player on&quot;</span>);  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Off</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;DVD Player off&quot;</span>);  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Play</span>(<span class="params"><span class="built_in">string</span> movie</span>)</span> =&gt; Console.WriteLine(<span class="string">$&quot;DVD Player playing &#x27;<span class="subst">&#123;movie&#125;</span>&#x27;&quot;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Subsystem: Projector  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Projector</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">On</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Projector on&quot;</span>);  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Off</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Projector off&quot;</span>);  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetInput</span>(<span class="params">DvdPlayer dvd</span>)</span> =&gt; Console.WriteLine(<span class="string">&quot;Projector input set to DVD&quot;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="number">2.</span> Create the Facade</span><br><span class="line"><span class="comment">//public class HomeTheaterFacade  </span></span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> Amplifier _amp;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> DvdPlayer _dvd;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> Projector _projector;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HomeTheaterFacade</span>(<span class="params">Amplifier amp, DvdPlayer dvd, Projector projector</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _amp = amp;  </span><br><span class="line">        _dvd = dvd;  </span><br><span class="line">        _projector = projector;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">WatchMovie</span>(<span class="params"><span class="built_in">string</span> movie</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Get ready to watch a movie...&quot;</span>);  </span><br><span class="line">        _amp.On();  </span><br><span class="line">        _projector.On();  </span><br><span class="line">        _projector.SetInput(_dvd);  </span><br><span class="line">        _dvd.On();  </span><br><span class="line">        _dvd.Play(movie);  </span><br><span class="line">        _amp.SetVolume(<span class="number">10</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EndMovie</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Shutting movie theater down...&quot;</span>);  </span><br><span class="line">        _dvd.Off();  </span><br><span class="line">        _projector.Off();  </span><br><span class="line">        _amp.Off();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UseHomeTheater</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="comment">// Initialize subsystems  </span></span><br><span class="line">        <span class="keyword">var</span> amp = <span class="keyword">new</span> Amplifier();  </span><br><span class="line">        <span class="keyword">var</span> dvd = <span class="keyword">new</span> DvdPlayer();  </span><br><span class="line">        <span class="keyword">var</span> projector = <span class="keyword">new</span> Projector();  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create facade  </span></span><br><span class="line">        <span class="keyword">var</span> homeTheater = <span class="keyword">new</span> HomeTheaterFacade(amp, dvd, projector);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Simplified interface  </span></span><br><span class="line">        homeTheater.WatchMovie(<span class="string">&quot;Avatar&quot;</span>);  </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;\n&quot;</span>);  </span><br><span class="line">        homeTheater.EndMovie();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
Output:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Get ready to watch a movie...  </span><br><span class="line">Amplifier on  </span><br><span class="line">Projector on  </span><br><span class="line">Projector input set to DVD  </span><br><span class="line">DVD Player on  </span><br><span class="line">DVD Player playing &#x27;Avatar&#x27;  </span><br><span class="line">Amplifier volume set to 10  </span><br><span class="line"></span><br><span class="line">Shutting movie theater down...  </span><br><span class="line">DVD Player off  </span><br><span class="line">Projector off  </span><br><span class="line">Amplifier off  </span><br></pre></td></tr></table></figure>
Use Cases:</li>
</ol>
<ul>
<li><strong>Complex APIs</strong>: Simplify third-party libraries (e.g., cloud storage APIs).</li>
<li><strong>Legacy Systems</strong>: Provide a modern interface to outdated code.</li>
<li><strong>Cross-Layer Communication</strong>: Bridge different layers in an application (e.g., UI and business logic).</li>
<li><strong>Testing</strong>: Create facades to mock complex subsystems during unit testing.</li>
</ul>
<h3 id="Flyweight-Pattern"><a href="#Flyweight-Pattern" class="headerlink" title="Flyweight Pattern"></a>Flyweight Pattern<a name="flyweight-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/2-5.png" alt="pic"><br>The <strong>Flyweight Pattern</strong> is a structural design pattern that minimizes memory usage by sharing as much data as possible between similar objects. It achieves this by separating intrinsic (shared) state from extrinsic (context-specific) state, allowing objects to be reused across different contexts. This pattern is particularly useful for optimizing memory when dealing with large numbers of similar objects.<br>Core Concepts:</p>
<ol>
<li><strong>Flyweight</strong>: Defines the interface for shared objects, managing intrinsic state.</li>
<li><strong>Concrete Flyweight</strong>: Implements the flyweight interface and stores intrinsic state.</li>
<li><strong>Flyweight Factory</strong>: Manages a pool of flyweight objects, ensuring they are shared and reused.</li>
<li><strong>Client</strong>: Holds extrinsic state and uses the flyweight factory to obtain flyweight instances.</li>
</ol>
<p>Complete code of the flyweight design pattern:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="comment">// Flyweight interface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Icon</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>;  <span class="comment">// Method to draw the icon at given coordinates</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Flyweight class representing a File Icon</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FileIcon</span> <span class="keyword">implements</span> <span class="title class_">Icon</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String type;  <span class="comment">// Intrinsic state: type of file icon</span></span><br><span class="line">    <span class="keyword">private</span> String imageName;  <span class="comment">// Intrinsic state: image name specific to the file icon</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileIcon</span><span class="params">(String type, String imageName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = type;</span><br><span class="line">        <span class="built_in">this</span>.imageName = imageName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="comment">// Simulated logic to load and draw image</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Drawing &quot;</span> + type + <span class="string">&quot; icon with image &quot;</span> + imageName + <span class="string">&quot; at position (&quot;</span> + x + <span class="string">&quot;, &quot;</span> + y + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Flyweight class representing a Folder Icon</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FolderIcon</span> <span class="keyword">implements</span> <span class="title class_">Icon</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String color;  <span class="comment">// Intrinsic state: color of the folder icon</span></span><br><span class="line">    <span class="keyword">private</span> String imageName;  <span class="comment">// Intrinsic state: image name specific to the folder icon</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FolderIcon</span><span class="params">(String color, String imageName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">        <span class="built_in">this</span>.imageName = imageName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="comment">// Simulated logic to load and draw image</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Drawing folder icon with color &quot;</span> + color + <span class="string">&quot; and image &quot;</span> + imageName + <span class="string">&quot; at position (&quot;</span> + x + <span class="string">&quot;, &quot;</span> + y + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Flyweight factory to manage creation and retrieval of flyweight objects</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IconFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Icon&gt; iconCache = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Icon <span class="title function_">getIcon</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="comment">// Check if the icon already exists in the cache</span></span><br><span class="line">        <span class="keyword">if</span> (iconCache.containsKey(key)) &#123;</span><br><span class="line">            <span class="keyword">return</span> iconCache.get(key);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Create a new icon based on the key (type of icon)</span></span><br><span class="line">            Icon icon;</span><br><span class="line">            <span class="keyword">if</span> (key.equals(<span class="string">&quot;file&quot;</span>)) &#123;</span><br><span class="line">                icon = <span class="keyword">new</span> <span class="title class_">FileIcon</span>(<span class="string">&quot;document&quot;</span>, <span class="string">&quot;document.png&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key.equals(<span class="string">&quot;folder&quot;</span>)) &#123;</span><br><span class="line">                icon = <span class="keyword">new</span> <span class="title class_">FolderIcon</span>(<span class="string">&quot;blue&quot;</span>, <span class="string">&quot;folder.png&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Unsupported icon type: &quot;</span> + key);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// Store the created icon in the cache</span></span><br><span class="line">            iconCache.put(key, icon);</span><br><span class="line">            <span class="keyword">return</span> icon;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Client code to use the flyweight objects (icons)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">IconFactory</span> <span class="variable">iconFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IconFactory</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Draw file icons at different positions</span></span><br><span class="line">        <span class="type">Icon</span> <span class="variable">fileIcon1</span> <span class="operator">=</span> iconFactory.getIcon(<span class="string">&quot;file&quot;</span>);</span><br><span class="line">        fileIcon1.draw(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Icon</span> <span class="variable">fileIcon2</span> <span class="operator">=</span> iconFactory.getIcon(<span class="string">&quot;file&quot;</span>);</span><br><span class="line">        fileIcon2.draw(<span class="number">150</span>, <span class="number">150</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Draw folder icons at different positions</span></span><br><span class="line">        <span class="type">Icon</span> <span class="variable">folderIcon1</span> <span class="operator">=</span> iconFactory.getIcon(<span class="string">&quot;folder&quot;</span>);</span><br><span class="line">        folderIcon1.draw(<span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Icon</span> <span class="variable">folderIcon2</span> <span class="operator">=</span> iconFactory.getIcon(<span class="string">&quot;folder&quot;</span>);</span><br><span class="line">        folderIcon2.draw(<span class="number">250</span>, <span class="number">250</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Use Cases:</p>
<ul>
<li><strong>Graphics Systems</strong>: Reuse shared textures, sprites, or glyphs.</li>
<li><strong>Game Development</strong>: Share common assets (e.g., terrain tiles, enemy models).</li>
<li><strong>Document Editors</strong>: Reuse characters, fonts, or formatting styles.</li>
<li><strong>Database Connections</strong>: Pool and reuse connection objects.</li>
</ul>
<h3 id="Proxy-Pattern"><a href="#Proxy-Pattern" class="headerlink" title="Proxy Pattern"></a>Proxy Pattern<a name="proxy-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/2-6.png" alt="pic"><br>The <strong>Proxy Pattern</strong> is a structural design pattern that provides a surrogate or placeholder for another object to control access to it. Proxies act as intermediaries between clients and real objects, allowing additional functionality (e.g., lazy loading, access control, logging) without changing the real object’s interface.<br>Core Concepts</p>
<ol>
<li><strong>Subject</strong>: Defines the common interface for the RealSubject and Proxy.</li>
<li><strong>RealSubject</strong>: Implements the subject interface, containing the actual business logic.</li>
<li><strong>Proxy</strong>: Maintains a reference to the RealSubject and controls access to it.</li>
<li><strong>Client</strong>: Interacts with the Proxy as if it were the RealSubject.<br>UML Diagram:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">┌──────────────┐       ┌──────────────┐       ┌──────────────┐  </span><br><span class="line">│    Subject   │       │     Proxy    │       │ RealSubject  │  </span><br><span class="line">├──────────────┤       ├──────────────┤       ├──────────────┤  </span><br><span class="line">│+ Request()   │       │- realSubject │       │+ Request()   │  </span><br><span class="line">└──────────────┘       │+ Request()   │       └──────────────┘  </span><br><span class="line">          ▲            └──────────────┘                ▲  </span><br><span class="line">          │                     ▲                      │  </span><br><span class="line">          │                     │                      │  </span><br><span class="line">          └─────────────────────┼───────────────────── ┘  </span><br><span class="line">                                │  </span><br><span class="line">┌───────────────────────────────────────────────────────┐  </span><br><span class="line">│                      Client                           │  </span><br><span class="line">└───────────────────────────────────────────────────────┘  </span><br></pre></td></tr></table></figure>
Use case:A high-resolution image loader with lazy initialization.<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. Define the Subject Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IImage</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Display</span>()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//2. Implement the RealSubject</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RealImage</span> : <span class="title">IImage</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span> _fileName;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RealImage</span>(<span class="params"><span class="built_in">string</span> fileName</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _fileName = fileName;  </span><br><span class="line">        LoadFromDisk(_fileName);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Display</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Displaying <span class="subst">&#123;_fileName&#125;</span>&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoadFromDisk</span>(<span class="params"><span class="built_in">string</span> fileName</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Loading <span class="subst">&#123;fileName&#125;</span>&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3. Implement the Proxy</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ProxyImage</span> : <span class="title">IImage</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> RealImage _realImage;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span> _fileName;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyImage</span>(<span class="params"><span class="built_in">string</span> fileName</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _fileName = fileName;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Display</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span> (_realImage == <span class="literal">null</span>)  </span><br><span class="line">        &#123;  </span><br><span class="line">            _realImage = <span class="keyword">new</span> RealImage(_fileName);  </span><br><span class="line">        &#125;  </span><br><span class="line">        _realImage.Display();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UseImage</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        IImage image = <span class="keyword">new</span> ProxyImage(<span class="string">&quot;high_res.jpg&quot;</span>);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Image is not loaded until Display() is called  </span></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Calling Display() for the first time:&quot;</span>);  </span><br><span class="line">        image.Display();  </span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;\nCalling Display() again:&quot;</span>);  </span><br><span class="line">        image.Display();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
Output:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Calling Display() for the first time:  </span><br><span class="line">Loading high_res.jpg  </span><br><span class="line">Displaying high_res.jpg  </span><br><span class="line"></span><br><span class="line">Calling Display() again:  </span><br><span class="line">Displaying high_res.jpg  </span><br></pre></td></tr></table></figure>
Use Cases:</li>
</ol>
<ul>
<li><strong>Remote Proxies</strong>: Hide network communication details (e.g., .NET Remoting).</li>
<li><strong>Virtual Proxies</strong>: Delay expensive operations (e.g., lazy loading images).</li>
<li><strong>Protection Proxies</strong>: Control access based on permissions (e.g., user roles).</li>
<li><strong>Smart References</strong>: Add additional behavior when accessing an object (e.g., reference counting).</li>
</ul>
<h2 id="Behavioral-Patterns"><a href="#Behavioral-Patterns" class="headerlink" title="Behavioral Patterns"></a>Behavioral Patterns<a name="behavior-pattern"></a></h2><h3 id="Observer-Pattern"><a href="#Observer-Pattern" class="headerlink" title="Observer Pattern"></a>Observer Pattern<a name="observer-pattern"></a></h3><p>The <strong>Observer Pattern</strong> is a behavioral design pattern that establishes a one-to-many dependency between objects. When one object (the subject) changes state, all its dependents (the observers) are notified and updated automatically. This pattern is ideal for implementing event-driven systems, where multiple components need to react to state changes.<br>Core Concepts:</p>
<ol>
<li><strong>Subject</strong>: Manages a list of observers and notifies them of state changes.</li>
<li><strong>Observer</strong>: Defines an interface for receiving updates from the subject.</li>
<li><strong>Concrete Subject</strong>: Implements the subject interface and stores state that interests observers.</li>
<li><strong>Concrete Observe</strong>r: Implements the observer interface and maintains a reference to the concrete subject.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Observer Interface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String weather)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Subject Interface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">addObserver</span><span class="params">(Observer observer)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">removeObserver</span><span class="params">(Observer observer)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">notifyObservers</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ConcreteSubject Class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WeatherStation</span> <span class="keyword">implements</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> String weather;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addObserver</span><span class="params">(Observer observer)</span> &#123;</span><br><span class="line">        observers.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeObserver</span><span class="params">(Observer observer)</span> &#123;</span><br><span class="line">        observers.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notifyObservers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer observer : observers) &#123;</span><br><span class="line">            observer.update(weather);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWeather</span><span class="params">(String newWeather)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.weather = newWeather;</span><br><span class="line">        notifyObservers();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ConcreteObserver Class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneDisplay</span> <span class="keyword">implements</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String weather;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String weather)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.weather = weather;</span><br><span class="line">        display();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Phone Display: Weather updated - &quot;</span> + weather);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ConcreteObserver Class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TVDisplay</span> <span class="keyword">implements</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String weather;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String weather)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.weather = weather;</span><br><span class="line">        display();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TV Display: Weather updated - &quot;</span> + weather);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage Class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeatherApp</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WeatherStation</span> <span class="variable">weatherStation</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WeatherStation</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Observer</span> <span class="variable">phoneDisplay</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PhoneDisplay</span>();</span><br><span class="line">        <span class="type">Observer</span> <span class="variable">tvDisplay</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TVDisplay</span>();</span><br><span class="line"></span><br><span class="line">        weatherStation.addObserver(phoneDisplay);</span><br><span class="line">        weatherStation.addObserver(tvDisplay);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Simulating weather change</span></span><br><span class="line">        weatherStation.setWeather(<span class="string">&quot;Sunny&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Output:</span></span><br><span class="line">        <span class="comment">// Phone Display: Weather updated - Sunny</span></span><br><span class="line">        <span class="comment">// TV Display: Weather updated - Sunny</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Phone Display: Weather updated - Sunny</span><br><span class="line">TV Display: Weather updated - Sunny</span><br></pre></td></tr></table></figure>
<p>Real-World Examples:</p>
<ul>
<li><strong>Java Event Listeners</strong>: ActionListener in Swing components.</li>
<li><strong>.NET Events</strong>: System.EventHandler and event subscribers.</li>
<li><strong>RxJava&#x2F;Rx.NET</strong>: Reactive Extensions use the observer pattern for asynchronous streams.</li>
</ul>
<h3 id="Iterator-Pattern"><a href="#Iterator-Pattern" class="headerlink" title="Iterator Pattern"></a>Iterator Pattern<a name="iterator-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/3-1.png" alt="pic"><br>The <strong>Iterator Pattern</strong> is a behavioral design pattern that provides a way to access the elements of an aggregate object (e.g., a collection) sequentially without exposing its underlying representation. It decouples the traversal logic from the collection, allowing different traversal algorithms or multiple traversals simultaneously.<br>Core Concepts:</p>
<ol>
<li><strong>Iterator</strong>: Defines an interface for accessing and traversing elements.</li>
<li><strong>Concrete Iterator</strong>: Implements the iterator interface, tracking the current position in the collection.</li>
<li><strong>Aggregate</strong>: Defines an interface for creating an iterator.</li>
<li><strong>Concrete Aggregate</strong>: Implements the aggregate interface to return a concrete iterator.<br>Use case: A custom collection (name repository) with a forward iterator.<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. Define the Iterator Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IIterator</span>&lt;<span class="title">T</span>&gt;  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="built_in">bool</span> <span class="title">HasNext</span>()</span>;  </span><br><span class="line">    <span class="function">T <span class="title">Next</span>()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//2. Define the Aggregate Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IAggregate</span>&lt;<span class="title">T</span>&gt;  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function">IIterator&lt;T&gt; <span class="title">CreateIterator</span>()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3. Implement the Concrete Iterator</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NameIterator</span> : <span class="title">IIterator</span>&lt;<span class="title">string</span>&gt;  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span>[] _names;  </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> _position = <span class="number">0</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NameIterator</span>(<span class="params"><span class="built_in">string</span>[] names</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _names = names;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">HasNext</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> _position &lt; _names.Length &amp;&amp; _names[_position] != <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Next</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span> (HasNext())  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">return</span> _names[_position++];  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4. Implement the Concrete Aggregate</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NameRepository</span> : <span class="title">IAggregate</span>&lt;<span class="title">string</span>&gt;  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span>[] _names = &#123; <span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>, <span class="string">&quot;David&quot;</span> &#125;;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IIterator&lt;<span class="built_in">string</span>&gt; <span class="title">CreateIterator</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> NameIterator(_names);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//5. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UseIterator</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        IAggregate&lt;<span class="built_in">string</span>&gt; repository = <span class="keyword">new</span> NameRepository();  </span><br><span class="line">        IIterator&lt;<span class="built_in">string</span>&gt; iterator = repository.CreateIterator();  </span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Names:&quot;</span>);  </span><br><span class="line">        <span class="keyword">while</span> (iterator.HasNext())  </span><br><span class="line">        &#123;  </span><br><span class="line">            Console.WriteLine(iterator.Next());  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
Output:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Names:  </span><br><span class="line">Alice  </span><br><span class="line">Bob  </span><br><span class="line">Charlie  </span><br><span class="line">David  </span><br></pre></td></tr></table></figure>
Use Cases:</li>
</ol>
<ul>
<li><strong>Custom Collections</strong>: Traverse non-standard data structures (e.g., trees, graphs).</li>
<li><strong>Database Results</strong>: Iterate over query results without exposing underlying data.</li>
<li><strong>File System Navigation</strong>: Traverse directories and files.</li>
<li><strong>Parallel Processing</strong>: Split traversal tasks across multiple threads.</li>
</ul>
<h3 id="Command-Pattern"><a href="#Command-Pattern" class="headerlink" title="Command Pattern"></a>Command Pattern<a name="command-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/3-2.png" alt="pic"><br>The <strong>Command Pattern</strong> is a behavioral design pattern that turns a request into a stand-alone object, containing all information about the request. This decouples the sender (invoker) from the receiver (executor), allowing requests to be parameterized, queued, logged, or undone.<br>Core Concepts:</p>
<ol>
<li><strong>Command</strong>: Defines an interface for executing an operation.</li>
<li><strong>Concrete Command</strong>: Implements the command interface, binding a receiver to an action.</li>
<li><strong>Invoker</strong>: Asks the command to carry out the request.</li>
<li><strong>Receiver</strong>: Knows how to perform the operation associated with the command.</li>
<li><strong>Client</strong>: Creates a concrete command and sets its receiver.<br>Uase case: A remote control (invoker) that can turn on&#x2F;off a light (receiver) using commands.<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. Define the Command Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICommand</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Execute</span>()</span>;  </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Undo</span>()</span>;  <span class="comment">// Optional for undo functionality  </span></span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//2. Implement Concrete Commands</span></span><br><span class="line"><span class="comment">// Light On Command  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LightOnCommand</span> : <span class="title">ICommand</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> Light _light;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LightOnCommand</span>(<span class="params">Light light</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _light = light;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>()</span> =&gt; _light.TurnOn();  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Undo</span>()</span> =&gt; _light.TurnOff();  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// Light Off Command  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LightOffCommand</span> : <span class="title">ICommand</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> Light _light;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LightOffCommand</span>(<span class="params">Light light</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _light = light;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>()</span> =&gt; _light.TurnOff();  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Undo</span>()</span> =&gt; _light.TurnOn();  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3. Define the Receiver</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Light</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TurnOn</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Light is on&quot;</span>);  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TurnOff</span>()</span> =&gt; Console.WriteLine(<span class="string">&quot;Light is off&quot;</span>);  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4. Implement the Invoker</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RemoteControl</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> ICommand _command;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetCommand</span>(<span class="params">ICommand command</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _command = command;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PressButton</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _command.Execute();  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PressUndoButton</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _command.Undo();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//5. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UseRemoteControl</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="comment">// Create receiver  </span></span><br><span class="line">        Light light = <span class="keyword">new</span> Light();  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create commands  </span></span><br><span class="line">        ICommand lightOn = <span class="keyword">new</span> LightOnCommand(light);  </span><br><span class="line">        ICommand lightOff = <span class="keyword">new</span> LightOffCommand(light);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create invoker  </span></span><br><span class="line">        RemoteControl remote = <span class="keyword">new</span> RemoteControl();  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Use invoker to execute commands  </span></span><br><span class="line">        remote.SetCommand(lightOn);  </span><br><span class="line">        remote.PressButton();  <span class="comment">// Output: Light is on  </span></span><br><span class="line"></span><br><span class="line">        remote.SetCommand(lightOff);  </span><br><span class="line">        remote.PressButton();  <span class="comment">// Output: Light is off  </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Undo last command  </span></span><br><span class="line">        remote.PressUndoButton();  <span class="comment">// Output: Light is on  </span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
Use Cases:</li>
</ol>
<ul>
<li><strong>GUI Buttons</strong>: Map button clicks to specific actions (e.g., “Save” command).</li>
<li><strong>Undo&#x2F;Redo Systems</strong>: Track and reverse user actions in applications.</li>
<li><strong>Transaction Management</strong>: Group commands into atomic operations.</li>
<li><strong>Networking</strong>: Send commands over a network (e.g., remote procedure calls).</li>
</ul>
<p>Real-World Examples:</p>
<ul>
<li><strong>Java Thread Pool</strong>: Runnable and Callable interfaces act as commands.</li>
<li><strong>.NET Delegate</strong>: Encapsulates a method call as an object.</li>
<li><strong>GUI Frameworks</strong>: Action classes (e.g., javax.swing.Action in Java).</li>
</ul>
<h3 id="Strategy-Pattern"><a href="#Strategy-Pattern" class="headerlink" title="Strategy Pattern"></a>Strategy Pattern<a name="strategy-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/3-3.png" alt="pic"><br>The <strong>Strategy Pattern</strong> is a behavioral design pattern that defines a family of algorithms, encapsulates each one, and makes them interchangeable. It lets the algorithm vary independently from the clients that use it, promoting flexibility and maintainability.<br>Core Concepts:</p>
<ol>
<li><strong>Strategy</strong>: Defines the common interface for all concrete algorithms.</li>
<li><strong>Concrete Strategies</strong>: Implement the strategy interface with specific algorithms.</li>
<li><strong>Context</strong>: Maintains a reference to a strategy and uses it to perform a task.</li>
<li><strong>Client</strong>: Configures the context with a specific strategy.</li>
</ol>
<p>Use case: A payment processor supporting multiple payment methods (credit card, PayPal).</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. Define the Strategy Interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IPaymentStrategy</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">double</span> amount</span>)</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//2. Implement Concrete Strategies</span></span><br><span class="line"><span class="comment">// Credit Card Payment  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CreditCardStrategy</span> : <span class="title">IPaymentStrategy</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span> _cardNumber;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span> _expiryDate;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span> _cvv;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CreditCardStrategy</span>(<span class="params"><span class="built_in">string</span> cardNumber, <span class="built_in">string</span> expiryDate, <span class="built_in">string</span> cvv</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _cardNumber = cardNumber;  </span><br><span class="line">        _expiryDate = expiryDate;  </span><br><span class="line">        _cvv = cvv;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">double</span> amount</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Paid $<span class="subst">&#123;amount&#125;</span> via Credit Card (<span class="subst">&#123;_cardNumber.Substring(_cardNumber.Length - <span class="number">4</span>)&#125;</span>)&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// PayPal Payment  </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PayPalStrategy</span> : <span class="title">IPaymentStrategy</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">string</span> _email;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PayPalStrategy</span>(<span class="params"><span class="built_in">string</span> email</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _email = email;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">double</span> amount</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Paid $<span class="subst">&#123;amount&#125;</span> via PayPal (<span class="subst">&#123;_email&#125;</span>)&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//3. Implement the Context</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ShoppingCart</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">private</span> IPaymentStrategy _paymentStrategy;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetPaymentStrategy</span>(<span class="params">IPaymentStrategy strategy</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _paymentStrategy = strategy;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Checkout</span>(<span class="params"><span class="built_in">double</span> amount</span>)</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        _paymentStrategy.Pay(amount);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//4. Client Code</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Client</span>  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ProcessPayment</span>()</span>  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">var</span> cart = <span class="keyword">new</span> ShoppingCart();  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Pay with credit card  </span></span><br><span class="line">        cart.SetPaymentStrategy(<span class="keyword">new</span> CreditCardStrategy(<span class="string">&quot;1234-5678-9012-3456&quot;</span>, <span class="string">&quot;12/25&quot;</span>, <span class="string">&quot;123&quot;</span>));  </span><br><span class="line">        cart.Checkout(<span class="number">100.50</span>);  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Switch to PayPal  </span></span><br><span class="line">        cart.SetPaymentStrategy(<span class="keyword">new</span> PayPalStrategy(<span class="string">&quot;user@example.com&quot;</span>));  </span><br><span class="line">        cart.Checkout(<span class="number">50.25</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plaintext</span><br><span class="line">Paid $100.5 via Credit Card (3456)  </span><br><span class="line">Paid $50.25 via PayPal (user@example.com)  </span><br></pre></td></tr></table></figure>
<p>Use Cases:</p>
<ul>
<li><strong>Sorting Algorithms</strong>: Choose between quicksort, mergesort, or bubblesort dynamically.</li>
<li><strong>Encryption&#x2F;Compression</strong>: Switch between different algorithms (e.g., AES vs. RSA).</li>
<li><strong>Payment Processing</strong>: Support multiple payment methods (credit card, PayPal, Apple Pay).</li>
<li><strong>Game AI</strong>: Implement different behaviors for characters (aggressive, defensive, passive).</li>
</ul>
<h3 id="State-Pattern"><a href="#State-Pattern" class="headerlink" title="State Pattern"></a>State Pattern<a name="state-pattern"></a></h3><p><img src="/2025/04/19/Design-Patterns/3-7.png" alt="pic"><br>The <strong>State Pattern</strong> is a behavioral design pattern that allows an object to alter its behavior when its internal state changes. The object will appear to change its class, as the pattern encapsulates state-specific behaviors into separate state classes and delegates to the current state. This simplifies complex state-dependent logic and adheres to the Open&#x2F;Closed Principle.<br>Core Concepts:</p>
<ol>
<li><strong>Context</strong>: Maintains an instance of a concrete state, which represents its current state.</li>
<li><strong>State Interface</strong>: Defines a common interface for all concrete states.</li>
<li><strong>Concrete States</strong>: Implement the state interface, providing behavior specific to a state.</li>
<li><strong>State Transitions</strong>: Managed by the state classes themselves or the context, depending on the implementation.</li>
</ol>
<p>Use case:User interactions with the vending machine trigger state transitions. For example, when a user inserts money, the vending machine transitions from the “ReadyState” to the “PaymentPendingState.”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">VendingMachineState</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ReadyState</span> <span class="keyword">implements</span> <span class="title class_">VendingMachineState</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Ready state: Please select a product.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductSelectedState</span> <span class="keyword">implements</span> <span class="title class_">VendingMachineState</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Product selected state: Processing payment.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PaymentPendingState</span> <span class="keyword">implements</span> <span class="title class_">VendingMachineState</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Payment pending state: Dispensing product.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OutOfStockState</span> <span class="keyword">implements</span> <span class="title class_">VendingMachineState</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Out of stock state: Product unavailable. Please select another product.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VendingMachineContext</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> VendingMachineState state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(VendingMachineState state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">request</span><span class="params">()</span> &#123;</span><br><span class="line">        state.handleRequest();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Create context</span></span><br><span class="line">        <span class="type">VendingMachineContext</span> <span class="variable">vendingMachine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VendingMachineContext</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Set initial state</span></span><br><span class="line">        vendingMachine.setState(<span class="keyword">new</span> <span class="title class_">ReadyState</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Request state change</span></span><br><span class="line">        vendingMachine.request();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Change state</span></span><br><span class="line">        vendingMachine.setState(<span class="keyword">new</span> <span class="title class_">ProductSelectedState</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Request state change</span></span><br><span class="line">        vendingMachine.request();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Change state</span></span><br><span class="line">        vendingMachine.setState(<span class="keyword">new</span> <span class="title class_">PaymentPendingState</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Request state change</span></span><br><span class="line">        vendingMachine.request();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Change state</span></span><br><span class="line">        vendingMachine.setState(<span class="keyword">new</span> <span class="title class_">OutOfStockState</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Request state change</span></span><br><span class="line">        vendingMachine.request();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Ready state: Please select a product.</span><br><span class="line">Product selected state: Processing payment.</span><br><span class="line">Payment pending state: Dispensing product.</span><br><span class="line">Out of stock state: Product unavailable. Please select another product.</span><br></pre></td></tr></table></figure>

<p>When to use the State Design Pattern：<br>The State design pattern is beneficial when you encounter situations with objects whose behavior changes dynamically based on their internal state. Here are some key indicators:</p>
<ul>
<li><strong>Multiple states with distinct behaviors</strong>: If your object exists in several states (e.g., On&#x2F;Off, Open&#x2F;Closed, Started&#x2F;Stopped), and each state dictates unique behaviors, the State pattern can encapsulate this logic effectively.</li>
<li><strong>Complex conditional logic</strong>: When conditional statements (if-else or switch-case) become extensive and complex within your object, the State pattern helps organize and separate state-specific behavior into individual classes, enhancing readability and maintainability.</li>
<li><strong>Frequent state changes</strong>: If your object transitions between states frequently, the State pattern provides a clear mechanism for managing these transitions and their associated actions.</li>
<li><strong>Adding new states easily</strong>: If you anticipate adding new states in the future, the State pattern facilitates this by allowing you to create new state classes without affecting existing ones.</li>
</ul>
<link rel="stylesheet" href="/css/folder.css" type="text/css"><script src="/js/folder.js" type="text/javascript" async></script>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/C/" rel="tag"># C#</a>
              <a href="/tags/Java/" rel="tag"># Java</a>
              <a href="/tags/NET/" rel="tag"># .NET</a>
              <a href="/tags/Creational-Patterns/" rel="tag"># Creational Patterns</a>
              <a href="/tags/Structural-Patterns/" rel="tag"># Structural Patterns</a>
              <a href="/tags/Behavioral-Patterns/" rel="tag"># Behavioral Patterns</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/04/12/Stack-Queue/" rel="prev" title="Stack & Queue">
      <i class="fa fa-chevron-left"></i> Stack & Queue
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/04/26/Common-Binary-Tree-Problems/" rel="next" title="Common Binary Tree Problems">
      Common Binary Tree Problems <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Types-of-Design-Patterns"><span class="nav-number">1.1.</span> <span class="nav-text">Types of Design Patterns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Key-Characteristics-of-Design-Patterns"><span class="nav-number">1.2.</span> <span class="nav-text">Key Characteristics of Design Patterns</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Creational-Patterns"><span class="nav-number">2.</span> <span class="nav-text">Creational Patterns</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Factory-Pattern"><span class="nav-number">2.1.</span> <span class="nav-text">Factory Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Abstract-Factory"><span class="nav-number">2.2.</span> <span class="nav-text">Abstract Factory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Builder-Pattern"><span class="nav-number">2.3.</span> <span class="nav-text">Builder Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Singleton-Pattern"><span class="nav-number">2.4.</span> <span class="nav-text">Singleton Pattern</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Structural-Patterns"><span class="nav-number">3.</span> <span class="nav-text">Structural Patterns</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Adapter-Pattern"><span class="nav-number">3.1.</span> <span class="nav-text">Adapter Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bridge-Pattern"><span class="nav-number">3.2.</span> <span class="nav-text">Bridge Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Composite-Pattern"><span class="nav-number">3.3.</span> <span class="nav-text">Composite Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Decorator-Pattern"><span class="nav-number">3.4.</span> <span class="nav-text">Decorator Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Facade-Pattern"><span class="nav-number">3.5.</span> <span class="nav-text">Facade Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Flyweight-Pattern"><span class="nav-number">3.6.</span> <span class="nav-text">Flyweight Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Proxy-Pattern"><span class="nav-number">3.7.</span> <span class="nav-text">Proxy Pattern</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Behavioral-Patterns"><span class="nav-number">4.</span> <span class="nav-text">Behavioral Patterns</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Observer-Pattern"><span class="nav-number">4.1.</span> <span class="nav-text">Observer Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterator-Pattern"><span class="nav-number">4.2.</span> <span class="nav-text">Iterator Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Command-Pattern"><span class="nav-number">4.3.</span> <span class="nav-text">Command Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Strategy-Pattern"><span class="nav-number">4.4.</span> <span class="nav-text">Strategy Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#State-Pattern"><span class="nav-number">4.5.</span> <span class="nav-text">State Pattern</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Alexandar May"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">Alexandar May</p>
  <div class="site-description" itemprop="description">Per aspera ad astra.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/9644964/alexandar-may-msft?tab=answers&sort=votes" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;9644964&#x2F;alexandar-may-msft?tab&#x3D;answers&amp;sort&#x3D;votes" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alexandar May</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">121k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">1:50</span>
    
    
</div>

<!--
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
   </div>
--><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'Ov23liVJTzqy1rzaDXXM',
      clientSecret: '5e785a7d46e69f7509e6c2f7730855a55944df33',
      repo        : 'blog-comment',
      owner       : 'BODYsuperman',
      admin       : ['BODYsuperman'],
      id          : 'a5528bea87e40cc729542022b1b40f28',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>


</body>
</html>
